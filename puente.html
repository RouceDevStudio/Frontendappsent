<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UpGames | RedirecciÃ³n Segura</title>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <style>
        :root { --neon-green: #39FF14; --dark-bg: #0a0a0a; --card-bg: #1a1a1a; }
        body { background-color: var(--dark-bg); color: #fff; font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; overflow-x: hidden; }
        .container { background: var(--card-bg); padding: 30px; border-radius: 20px; border: 1px solid rgba(57, 255, 20, 0.2); box-shadow: 0 0 20px rgba(0,0,0,0.5); max-width: 90%; width: 450px; text-align: center; }
        h1 { color: var(--neon-green); font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px; }
        p { color: #aaa; font-size: 0.9rem; line-height: 1.5; margin-bottom: 20px; }
        .ad-space { background: #000; border: 1px dashed var(--neon-green); padding: 40px 10px; margin: 20px 0; border-radius: 10px; color: #555; }
        #timer { font-size: 1.2rem; font-weight: bold; color: var(--neon-green); margin: 20px 0; }
        .btn-neon { background: var(--neon-green); color: #000; padding: 15px 40px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.3s; box-shadow: 0 0 15px rgba(57, 255, 20, 0.4); display: none; margin: 0 auto; }
        .btn-neon:hover { transform: scale(1.05); box-shadow: 0 0 25px var(--neon-green); }
        .btn-neon:disabled { opacity: 0.5; cursor: not-allowed; }
        .footer-note { font-size: 0.7rem; color: #444; margin-top: 30px; }
        .error-box { background: rgba(255, 67, 67, 0.1); border: 1px solid #ff4343; padding: 15px; border-radius: 10px; color: #ff4343; margin: 15px 0; }
        .success-box { background: rgba(57, 255, 20, 0.1); border: 1px solid var(--neon-green); padding: 15px; border-radius: 10px; color: var(--neon-green); margin: 15px 0; }
        .debug-info { background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 5px; font-size: 0.7rem; color: #666; margin-top: 15px; text-align: left; max-height: 200px; overflow-y: auto; }
    </style>
</head>
<body>
    <div class="container">
        <ion-icon name="shield-checkmark-outline" style="font-size: 48px; color: var(--neon-green);"></ion-icon>
        <h1>Saliendo de UpGames</h1>
        <p>EstÃ¡s siendo redirigido a un servidor externo. Recuerda que UpGames es un directorio neutral y no almacena archivos.</p>
        
        <!-- â­ PUBLICIDAD 1 -->
        <script>
            atOptions = {
                'key': '0af19e39530f3a17d0722c5f0c91735a',
                'format': 'iframe',
                'height': 250,
                'width': 300,
                'params': {}
            };
        </script>
        <script src="https://www.highperformanceformat.com/0af19e39530f3a17d0722c5f0c91735a/invoke.js"></script><br /><br />

        <div id="timer">Preparando enlace en 30...</div>
        <div id="error-msg" class="error-box" style="display:none;"></div>
        <div id="success-msg" class="success-box" style="display:none;"></div>
        <button id="btn" class="btn-neon">Obtener Enlace</button><br />
        
        <!-- â­ PUBLICIDAD 2 -->
        <script async="async" data-cfasync="false" src="https://pl28635483.effectivegatecpm.com/d0ede3882435cb5a80915e26542fd8db/invoke.js"></script>
        <div id="container-d0ede3882435cb5a80915e26542fd8db"></div><br />

        <script>
          atOptions = {
            'key' : '247173c86298a1f5a8e01a0e1c5889cd',
            'format' : 'iframe',
            'height' : 600,
            'width' : 160,
            'params' : {}
          };
        </script>
        <script src="https://www.highperformanceformat.com/247173c86298a1f5a8e01a0e1c5889cd/invoke.js"></script>

        <div class="footer-note">
            La responsabilidad legal recae en el usuario que indexÃ³ el link.
        </div>
        
        <!-- DEBUG INFO (solo visible en desarrollo) -->
        <div id="debug-info" class="debug-info" style="display:none;"></div>
    </div>

    <script>
        // â­ CONFIGURACIÃ“N
        const API_URL = "https://backendapp-037y.onrender.com";
        const DEBUG_MODE = false; // Cambiar a true para ver logs detallados
        
        // â­ ELEMENTOS DOM
        const timerEl = document.getElementById('timer');
        const btnEl = document.getElementById('btn');
        const errorEl = document.getElementById('error-msg');
        const successEl = document.getElementById('success-msg');
        const debugEl = document.getElementById('debug-info');
        
        // â­ ESTADO
        let countdown = 30;
        let enlaceFinal = null;
        let validacionRealizada = false;
        
        // â­ OBTENER PARÃMETROS DE URL
        const urlParams = new URLSearchParams(window.location.search);
        const juegoId = urlParams.get('id');
        const destino = urlParams.get('dest'); // Fallback para formato antiguo
        
        // â­ FUNCIÃ“N DE DEBUG
        function log(msg, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const emoji = type === 'error' ? 'âŒ' : type === 'success' ? 'âœ…' : 'â„¹ï¸';
            const logMsg = `[${timestamp}] ${emoji} ${msg}`;
            
            console.log(logMsg);
            
            if (DEBUG_MODE) {
                debugEl.style.display = 'block';
                debugEl.innerHTML += `<div>${logMsg}</div>`;
                debugEl.scrollTop = debugEl.scrollHeight;
            }
        }

        // â­ VALIDACIÃ“N INICIAL
        log(`Iniciando puente.html - ID: ${juegoId || 'N/A'}`);
        
        if (!juegoId && !destino) {
            showError("âŒ Error crÃ­tico: No se proporcionÃ³ ID del juego ni enlace de destino");
            log("Sin ID ni destino", 'error');
        } else {
            log(`ParÃ¡metros recibidos OK - ID: ${juegoId}`);
        }

        // â­ COUNTDOWN TIMER
        const interval = setInterval(() => {
            countdown--;
            timerEl.innerText = `Preparando enlace en ${countdown}...`;
            
            if (countdown <= 0) {
                clearInterval(interval);
                timerEl.style.display = 'none';
                btnEl.style.display = 'block';
                
                log("Timer completado, iniciando validaciÃ³n");
                
                // â­ VALIDAR DESCARGA EN EL BACKEND
                if (juegoId) {
                    validarDescarga(juegoId);
                } else if (destino) {
                    // Modo legacy (sin economÃ­a)
                    log("Modo legacy activado");
                    enlaceFinal = decodeURIComponent(destino);
                    habilitarBoton();
                }
            }
        }, 1000);

        // â­ FUNCIÃ“N PRINCIPAL: VALIDAR DESCARGA
        async function validarDescarga(juegoId) {
            if (validacionRealizada) {
                log("ValidaciÃ³n ya realizada, ignorando");
                return;
            }
            
            validacionRealizada = true;
            btnEl.disabled = true;
            btnEl.innerText = "â³ Validando descarga...";
            
            log(`Enviando peticiÃ³n al backend - Juego ID: ${juegoId}`);
            
            try {
                const requestBody = { juegoId };
                log(`Body de la peticiÃ³n: ${JSON.stringify(requestBody)}`);
                
                const response = await fetch(`${API_URL}/economia/validar-descarga`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                log(`Respuesta recibida - Status: ${response.status}`);

                // â­ MANEJAR ERRORES HTTP
                if (!response.ok) {
                    const errorText = await response.text();
                    log(`Error HTTP ${response.status}: ${errorText}`, 'error');
                    throw new Error(`Error HTTP ${response.status}: ${errorText}`);
                }

                const data = await response.json();
                log(`Datos recibidos: ${JSON.stringify(data)}`, 'success');

                if (data.success) {
                    // â­ CRÃTICO: Asignar el enlace primero
                    enlaceFinal = data.link;
                    
                    // â­ VALIDAR que el enlace existe Y es una URL vÃ¡lida
                    if (!enlaceFinal || enlaceFinal.trim() === '') {
                        log(`âš ï¸ Backend no devolviÃ³ enlace. Data completa: ${JSON.stringify(data)}`, 'error');
                        showError("âŒ Error: El backend no devolviÃ³ un enlace de descarga vÃ¡lido");
                        btnEl.disabled = true;
                        btnEl.innerText = "Error - Sin enlace";
                        return;
                    }
                    
                    log(`âœ… Enlace recibido: ${enlaceFinal.substring(0, 50)}...`, 'success');
                    
                    // â­ MOSTRAR MENSAJE SEGÃšN EL ESTADO
                    if (data.limiteAlcanzado) {
                        showWarning("âš ï¸ " + (data.mensaje || "Ya descargaste este juego 2 veces hoy. AÃºn puedes acceder al enlace."));
                        log("LÃ­mite alcanzado pero enlace permitido", 'info');
                    } else {
                        showSuccess(`âœ… Descarga validada (${data.descargasEfectivas || 'N/A'} descargas efectivas)`);
                        log(`Descarga contada - Total: ${data.descargasEfectivas}`, 'success');
                    }
                    
                    // â­ SIEMPRE HABILITAR EL BOTÃ“N si tenemos enlace
                    habilitarBoton();
                    
                } else {
                    const errorMsg = data.error || data.mensaje || "Error desconocido al validar descarga";
                    log(`Error en respuesta: ${errorMsg}`, 'error');
                    showError("âŒ " + errorMsg);
                    btnEl.disabled = true;
                    btnEl.innerText = "Error en validaciÃ³n";
                }
                
            } catch (error) {
                log(`Error crÃ­tico: ${error.message}`, 'error');
                console.error("âŒ Error completo:", error);
                
                let errorMessage = "Error de conexiÃ³n con el servidor";
                
                if (error.message.includes("Failed to fetch")) {
                    errorMessage = "No se pudo conectar al servidor. Verifica tu conexiÃ³n a internet.";
                } else if (error.message.includes("NetworkError")) {
                    errorMessage = "Error de red. El servidor puede estar caÃ­do.";
                } else if (error.message.includes("HTTP 4")) {
                    errorMessage = "PeticiÃ³n invÃ¡lida. Verifica el ID del juego.";
                } else if (error.message.includes("HTTP 5")) {
                    errorMessage = "Error del servidor. Intenta de nuevo en unos minutos.";
                }
                
                showError(`âŒ ${errorMessage}`);
                btnEl.disabled = true;
                btnEl.innerText = "ValidaciÃ³n fallida";
            }
        }

        // â­ HABILITAR BOTÃ“N DE DESCARGA
        function habilitarBoton() {
            btnEl.disabled = false;
            btnEl.innerText = "ğŸš€ Obtener Enlace";
            btnEl.style.display = 'block';
            
            log("BotÃ³n habilitado", 'success');
            
            btnEl.onclick = () => {
                if (enlaceFinal) {
                    log(`Abriendo enlace: ${enlaceFinal}`);
                    
                    // Abrir en nueva pestaÃ±a
                    const nuevaVentana = window.open(enlaceFinal, '_blank');
                    
                    if (nuevaVentana) {
                        timerEl.style.display = 'block';
                        timerEl.innerText = "âœ… Enlace abierto en nueva pestaÃ±a";
                        timerEl.style.color = "var(--neon-green)";
                        btnEl.innerText = "ğŸ”„ Volver a abrir";
                        log("Enlace abierto correctamente", 'success');
                    } else {
                        showError("âš ï¸ El navegador bloqueÃ³ la ventana emergente. Permite ventanas emergentes para este sitio.");
                        log("Popup bloqueado", 'error');
                    }
                } else {
                    showError("âŒ Error: Enlace no disponible");
                    log("Intento de click sin enlace", 'error');
                }
            };
        }

        // â­ FUNCIONES DE UI
        function showError(msg) {
            errorEl.innerText = msg;
            errorEl.style.display = 'block';
            successEl.style.display = 'none';
        }

        function showSuccess(msg) {
            successEl.innerText = msg;
            successEl.style.display = 'block';
            errorEl.style.display = 'none';
        }

        function showWarning(msg) {
            timerEl.innerText = msg;
            timerEl.style.color = "#ffcc00";
            timerEl.style.display = 'block';
        }
        
        // â­ LOG FINAL DE INICIALIZACIÃ“N
        log("Puente.html inicializado completamente");
    </script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ“ TUTORIAL PUENTE â€” Primera vez
     REGLAS: 
     âœ… Solo aparece 1 vez (localStorage)
     âœ… NO bloquea el countdown ni los anuncios
     âœ… NO toca ninguna variable/funciÃ³n existente
     âœ… Se descarta al tocar el botÃ³n principal
     âœ… Mobile-first
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<style>
/* â”€â”€ CARD TUTORIAL FLOTANTE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Se muestra encima del contenido SIN bloquear nada.
   El usuario puede interactuar con la pÃ¡gina normalmente.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#bridge-tut {
    display: none;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    width: min(340px, calc(100vw - 24px));
    background: #0f0f0f;
    border: 1.5px solid #39FF14;
    border-radius: 18px;
    padding: 16px 18px 14px;
    box-shadow: 0 8px 40px rgba(57,255,20,0.18), 0 2px 16px rgba(0,0,0,0.85);
    font-family: 'Segoe UI', Roboto, sans-serif;
    box-sizing: border-box;
    animation: btgSlideUp .4s cubic-bezier(.34,1.56,.64,1) forwards;
}
@keyframes btgSlideUp {
    from { opacity:0; transform:translateX(-50%) translateY(24px); }
    to   { opacity:1; transform:translateX(-50%) translateY(0); }
}
#bridge-tut.closing {
    animation: btgSlideDown .3s ease forwards;
}
@keyframes btgSlideDown {
    to { opacity:0; transform:translateX(-50%) translateY(30px); }
}

/* Header */
#bridge-tut .bt-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}
#bridge-tut .bt-badge {
    font-size: .6rem; font-weight: 900; letter-spacing: 1.5px;
    color: #39FF14;
    background: rgba(57,255,20,.1);
    border: 1px solid rgba(57,255,20,.3);
    border-radius: 20px;
    padding: 3px 10px;
    text-transform: uppercase;
}
#bridge-tut .bt-step {
    font-size: .65rem; font-weight: 700;
    color: rgba(57,255,20,.5);
    letter-spacing: .5px;
}
/* Contenido */
#bridge-tut .bt-title {
    font-size: .92rem; font-weight: 800;
    color: #fff;
    margin-bottom: 7px;
    line-height: 1.3;
}
#bridge-tut .bt-body {
    font-size: .78rem; color: #aaa;
    line-height: 1.6;
    margin-bottom: 14px;
}
#bridge-tut .bt-body strong { color: #39FF14; }

/* Footer */
#bridge-tut .bt-foot {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 8px;
}
#bridge-tut .bt-dots {
    display: flex; gap: 5px; align-items: center;
}
#bridge-tut .bt-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: #2a2a2a;
    transition: background .3s, transform .3s;
}
#bridge-tut .bt-dot.on { background: #39FF14; transform: scale(1.3); }

#bridge-tut .bt-nav { display: flex; gap: 8px; }
#bridge-tut .bt-btn {
    padding: 8px 16px; border-radius: 9px;
    font-size: .72rem; font-weight: 800;
    letter-spacing: .5px; cursor: pointer;
    border: none; text-transform: uppercase;
    min-height: 36px; transition: all .18s;
}
#bridge-tut .bt-prev { background: transparent; color: #555; border: 1px solid #2a2a2a; }
#bridge-tut .bt-prev:hover { color: #fff; border-color: #555; }
#bridge-tut .bt-next { background: #39FF14; color: #000; }
#bridge-tut .bt-next:hover { filter: brightness(1.1); }

/* BotÃ³n cerrar esquina */
#bridge-tut .bt-close {
    position: absolute;
    top: 12px; right: 14px;
    background: none; border: none;
    color: #555; cursor: pointer;
    font-size: .95rem; line-height: 1;
    padding: 4px; border-radius: 6px;
    min-width: 28px; min-height: 28px;
    display: flex; align-items: center; justify-content: center;
    transition: color .2s;
}
#bridge-tut .bt-close:hover { color: #ff4343; }
</style>

<!-- La tarjeta del tutorial â€” flota sobre la pÃ¡gina sin bloquear nada -->
<div id="bridge-tut">
    <button class="bt-close" id="btg-close" aria-label="Cerrar">âœ•</button>
    <div class="bt-head">
        <span class="bt-badge">CÃ³mo funciona</span>
        <span class="bt-step" id="btg-step">1 / 4</span>
    </div>
    <div class="bt-title" id="btg-title"></div>
    <div class="bt-body"  id="btg-body"></div>
    <div class="bt-foot">
        <div class="bt-dots" id="btg-dots"></div>
        <div class="bt-nav">
            <button class="bt-btn bt-prev" id="btg-prev">â† AtrÃ¡s</button>
            <button class="bt-btn bt-next" id="btg-next">Siguiente â†’</button>
        </div>
    </div>
</div>

<script>
(function(){
'use strict';

/* â”€â”€ REGLA PRINCIPAL: no tocar nada del scope global existente â”€â”€
   Todas las variables son locales a este IIFE.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

const DONE_KEY = 'upgames_puente_tutorial_done';
if (localStorage.getItem(DONE_KEY) === '1') return; // ya lo vio, salir

/* â”€â”€ PASOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const STEPS = [
    {
        ttl: "ğŸ”’ PÃ¡gina de Acceso Seguro",
        bod: "Esta pÃ¡gina es el <strong>puente de seguridad</strong> de UpGames. Antes de darte el enlace de descarga, el sistema verifica que todo estÃ© en orden y registra la descarga para que el autor gane su comisiÃ³n."
    },
    {
        ttl: "â±ï¸ El Contador de 30 Segundos",
        bod: "El contador es <strong>obligatorio</strong> â€” no se puede saltar. Durante ese tiempo el sistema consulta el servidor y valida el enlace. Cuando llegue a 0, aparecerÃ¡ el botÃ³n de descarga automÃ¡ticamente."
    },
    {
        ttl: "ğŸš€ El BotÃ³n \"Obtener Enlace\"",
        bod: "Cuando el botÃ³n aparezca en verde, tÃ³calo una sola vez. <strong>Se abrirÃ¡ el enlace en una nueva pestaÃ±a</strong>. Si el navegador bloquea la ventana emergente, toca el aviso que aparece arriba y permite las ventanas de este sitio."
    },
    {
        ttl: "âš ï¸ Mensajes Importantes",
        bod: "<strong>Verde âœ…</strong> = descarga validada correctamente.\n<strong>Amarillo âš ï¸</strong> = ya descargaste este archivo 2 veces hoy (sigue funcionando).\n<strong>Rojo âŒ</strong> = hubo un error, recarga la pÃ¡gina e intenta de nuevo.\n\n<strong>Recuerda:</strong> UpGames no almacena archivos, solo indexa los enlaces."
    }
];

/* â”€â”€ REFS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const card  = document.getElementById('bridge-tut');
const stepE = document.getElementById('btg-step');
const ttlE  = document.getElementById('btg-title');
const bodE  = document.getElementById('btg-body');
const dotsE = document.getElementById('btg-dots');
const prevB = document.getElementById('btg-prev');
const nextB = document.getElementById('btg-next');
const closeB= document.getElementById('btg-close');

let idx = 0;

/* â”€â”€ RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function render() {
    const s = STEPS[idx], total = STEPS.length;
    stepE.textContent  = `${idx+1} / ${total}`;
    ttlE.textContent   = s.ttl;
    bodE.innerHTML     = s.bod.replace(/\n/g, '<br>');
    prevB.style.visibility = idx === 0 ? 'hidden' : 'visible';
    nextB.textContent  = idx === total-1 ? 'Entendido âœ“' : 'Siguiente â†’';

    dotsE.innerHTML = '';
    STEPS.forEach((_,i) => {
        const d = document.createElement('span');
        d.className = 'bt-dot' + (i===idx?' on':'');
        dotsE.appendChild(d);
    });
}

function dismiss() {
    localStorage.setItem(DONE_KEY, '1');
    card.classList.add('closing');
    setTimeout(() => { card.style.display = 'none'; }, 320);
}

/* â”€â”€ EVENTOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
nextB.addEventListener('click', () => {
    if (idx < STEPS.length-1) { idx++; render(); }
    else dismiss();
});
prevB.addEventListener('click', () => {
    if (idx > 0) { idx--; render(); }
});
closeB.addEventListener('click', dismiss);

/* Al tocar el botÃ³n principal de la pÃ¡gina, cerrar el tutorial */
const mainBtn = document.getElementById('btn');
if (mainBtn) {
    mainBtn.addEventListener('click', () => {
        if (card.style.display !== 'none') dismiss();
    }, { once: true });
}

/* â”€â”€ MOSTRAR (con pequeÃ±o delay para no competir con los scripts de ads) â”€â”€ */
function show() {
    render();
    card.style.display = 'block';
}

// Esperar a que todo cargue antes de mostrar el tutorial
if (document.readyState === 'complete') {
    setTimeout(show, 1200);
} else {
    window.addEventListener('load', () => setTimeout(show, 1200));
}

})();
</script>
<!-- FIN TUTORIAL PUENTE -->

</body>
</html>
